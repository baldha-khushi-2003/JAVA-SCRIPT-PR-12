<!DOCTYPE html>
<html lang="en">

<head>
    <title>PR 12</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body style="background-color: black;">

    <div class="container">
        
        <h1 align="center" style="color: antiquewhite; margin:50px;">My Shopping Site</h1>
        <a href="cart.html" class="btn btn-primary">Cart</a>
        <div class="row mt-5" id="productdata"></div>
    </div>

</body>

</html>


<script type="text/javascript">


    let product = [
        {
            productid: 1,
            name: 'ZARA PRODUCT',
            qty: 1,
            price: 6000,
            desc: 'Green one piece from Zara....',
            image: 'images/1.webp'
        },
        {
            productid: 2,
            name: 'LYAKA PRODUCT',
            qty:2,
            price: 7000,
            desc: 'Black one piece from Lyaka....',
            image: 'images/2.jpg'
        },
        {
            productid: 3,
            name: 'Nike',
            qty: 3,
            price: 5000,
            desc: 'iBlue one piece from Nike...',
            image: 'images/3.jpg'
        },
        {
            productid: 4,
            name: 'Mintra',
            qty: 4,
            price: 8000,
            desc: 'Yellow one piece from Mintra...',
            image: 'images/4.webp'
        },
        {
            productid: 5,
            name: '',
            qty: 5,
            price: 5000,
            desc: 'White one piece from ...',
            image: 'images/5.webp'
        },
        {
            productid: 6,
            name: 'Amazon',
            qty: 6,
            price: 11000,
            desc: 'Orange one piece from Amazon... ',
            image: 'images/6.jpg'
        }
    ];
    const viewProduct = () => {
        let tbl = "";
        product.map((val) => {
            tbl += `
                    <div class="col-md-4 mb-4">
                        <div class="card">
                            <img src="${val.image}" class="card-img-top" alt="...">
                            <div class="card-body">
                            <h5 class="card-title">${val.name}</h5>
                            <p class="card-text">${val.desc}</p>
                            <h5 class="card-title">${val.price}</h5>
                            <a onclick="addCart(${val.productid})" class="btn btn-primary">Order</a>
                            </div>
                        </div>
                    </div>
                    `
        })
        document.getElementById('productdata').innerHTML = tbl;
    }
    viewProduct();

    let cartdata = []; 
    const addCart = (id) => {
        product.filter((val)=>{
            if(val.productid == id){
                if(localStorage.getItem('cart') === null || localStorage.getItem('cart') === undefined){
                    cartdata.push(val);
                    localStorage.setItem('cart',JSON.stringify(cartdata))
                }else{
                    let allCartData = JSON.parse(localStorage.getItem('cart'));
                    allCartData.push(val);
                    localStorage.setItem('cart',JSON.stringify(allCartData))
                }       
            }
        })
        alert("Your Product will be successfully added....");
    }

</script>